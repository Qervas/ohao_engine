<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.1 (20251213.1925)
 -->
<!-- Title: Multi_Frame Pages: 1 -->
<svg width="722pt" height="789pt"
 viewBox="0.00 0.00 722.00 789.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 785)">
<title>Multi_Frame</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-785 718,-785 718,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="357" y="-759.9" font-family="Times,serif" font-size="18.00">OHAO Engine &#45; Multi&#45;Frame Ring Buffer (3 Frames in Flight)</text>
<g id="clust1" class="cluster">
<title>cluster_frames</title>
<polygon fill="lightgray" stroke="lightgray" points="144,-108 144,-744 428,-744 428,-108 144,-108"/>
<text xml:space="preserve" text-anchor="middle" x="286" y="-722.9" font-family="Times,serif" font-size="18.00">FrameResourceManager</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_states</title>
<polygon fill="none" stroke="black" stroke-dasharray="5,2" points="8,-8 8,-89 706,-89 706,-8 8,-8"/>
<text xml:space="preserve" text-anchor="middle" x="357" y="-67.9" font-family="Times,serif" font-size="18.00">Typical State</text>
</g>
<!-- Frame0 -->
<g id="node1" class="node">
<title>Frame0</title>
<polygon fill="lightgreen" stroke="black" points="230.5,-545.5 230.5,-706.5 393.5,-706.5 393.5,-545.5 230.5,-545.5"/>
<text xml:space="preserve" text-anchor="middle" x="312" y="-689.2" font-family="Helvetica,sans-Serif" font-size="14.00">Frame 0</text>
<polyline fill="none" stroke="black" points="230.5,-683.5 393.5,-683.5"/>
<text xml:space="preserve" text-anchor="middle" x="312" y="-666.2" font-family="Helvetica,sans-Serif" font-size="14.00">commandBuffer</text>
<polyline fill="none" stroke="black" points="230.5,-660.5 393.5,-660.5"/>
<text xml:space="preserve" text-anchor="middle" x="312" y="-643.2" font-family="Helvetica,sans-Serif" font-size="14.00">renderFence</text>
<polyline fill="none" stroke="black" points="230.5,-637.5 393.5,-637.5"/>
<text xml:space="preserve" text-anchor="middle" x="312" y="-620.2" font-family="Helvetica,sans-Serif" font-size="14.00">cameraBuffer + mapped</text>
<polyline fill="none" stroke="black" points="230.5,-614.5 393.5,-614.5"/>
<text xml:space="preserve" text-anchor="middle" x="312" y="-597.2" font-family="Helvetica,sans-Serif" font-size="14.00">lightBuffer + mapped</text>
<polyline fill="none" stroke="black" points="230.5,-591.5 393.5,-591.5"/>
<text xml:space="preserve" text-anchor="middle" x="312" y="-574.2" font-family="Helvetica,sans-Serif" font-size="14.00">descriptorSet</text>
<polyline fill="none" stroke="black" points="230.5,-568.5 393.5,-568.5"/>
<text xml:space="preserve" text-anchor="middle" x="312" y="-551.2" font-family="Helvetica,sans-Serif" font-size="14.00">stagingBuffer + mapped</text>
</g>
<!-- Frame1 -->
<g id="node2" class="node">
<title>Frame1</title>
<polygon fill="lightyellow" stroke="black" points="256.5,-331 256.5,-492 419.5,-492 419.5,-331 256.5,-331"/>
<text xml:space="preserve" text-anchor="middle" x="338" y="-474.7" font-family="Helvetica,sans-Serif" font-size="14.00">Frame 1</text>
<polyline fill="none" stroke="black" points="256.5,-469 419.5,-469"/>
<text xml:space="preserve" text-anchor="middle" x="338" y="-451.7" font-family="Helvetica,sans-Serif" font-size="14.00">commandBuffer</text>
<polyline fill="none" stroke="black" points="256.5,-446 419.5,-446"/>
<text xml:space="preserve" text-anchor="middle" x="338" y="-428.7" font-family="Helvetica,sans-Serif" font-size="14.00">renderFence</text>
<polyline fill="none" stroke="black" points="256.5,-423 419.5,-423"/>
<text xml:space="preserve" text-anchor="middle" x="338" y="-405.7" font-family="Helvetica,sans-Serif" font-size="14.00">cameraBuffer + mapped</text>
<polyline fill="none" stroke="black" points="256.5,-400 419.5,-400"/>
<text xml:space="preserve" text-anchor="middle" x="338" y="-382.7" font-family="Helvetica,sans-Serif" font-size="14.00">lightBuffer + mapped</text>
<polyline fill="none" stroke="black" points="256.5,-377 419.5,-377"/>
<text xml:space="preserve" text-anchor="middle" x="338" y="-359.7" font-family="Helvetica,sans-Serif" font-size="14.00">descriptorSet</text>
<polyline fill="none" stroke="black" points="256.5,-354 419.5,-354"/>
<text xml:space="preserve" text-anchor="middle" x="338" y="-336.7" font-family="Helvetica,sans-Serif" font-size="14.00">stagingBuffer + mapped</text>
</g>
<!-- Frame0&#45;&gt;Frame1 -->
<g id="edge1" class="edge">
<title>Frame0&#45;&gt;Frame1</title>
<path fill="none" stroke="black" d="M321.76,-545.27C323.43,-531.61 325.17,-517.32 326.88,-503.4"/>
<polygon fill="black" stroke="black" points="330.31,-504.18 328.05,-493.83 323.36,-503.33 330.31,-504.18"/>
<text xml:space="preserve" text-anchor="middle" x="379.78" y="-513.7" font-family="Times,serif" font-size="14.00">m_currentFrame++</text>
</g>
<!-- GPU -->
<g id="node4" class="node">
<title>GPU</title>
<ellipse fill="lightgreen" stroke="black" cx="589" cy="-34" rx="108.87" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="589" y="-28.2" font-family="Helvetica,sans-Serif" font-size="14.00">GPU: Executing Frame 0</text>
</g>
<!-- Frame0&#45;&gt;GPU -->
<g id="edge4" class="edge">
<title>Frame0&#45;&gt;GPU</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M393.87,-573.23C410.29,-559.81 426.12,-544.22 438,-527 543.91,-373.44 577.5,-143.11 586.29,-63.37"/>
<polygon fill="black" stroke="black" points="589.73,-64.12 587.3,-53.81 582.77,-63.39 589.73,-64.12"/>
</g>
<!-- Frame2 -->
<g id="node3" class="node">
<title>Frame2</title>
<polygon fill="lightcoral" stroke="black" points="152.5,-116.5 152.5,-277.5 315.5,-277.5 315.5,-116.5 152.5,-116.5"/>
<text xml:space="preserve" text-anchor="middle" x="234" y="-260.2" font-family="Helvetica,sans-Serif" font-size="14.00">Frame 2</text>
<polyline fill="none" stroke="black" points="152.5,-254.5 315.5,-254.5"/>
<text xml:space="preserve" text-anchor="middle" x="234" y="-237.2" font-family="Helvetica,sans-Serif" font-size="14.00">commandBuffer</text>
<polyline fill="none" stroke="black" points="152.5,-231.5 315.5,-231.5"/>
<text xml:space="preserve" text-anchor="middle" x="234" y="-214.2" font-family="Helvetica,sans-Serif" font-size="14.00">renderFence</text>
<polyline fill="none" stroke="black" points="152.5,-208.5 315.5,-208.5"/>
<text xml:space="preserve" text-anchor="middle" x="234" y="-191.2" font-family="Helvetica,sans-Serif" font-size="14.00">cameraBuffer + mapped</text>
<polyline fill="none" stroke="black" points="152.5,-185.5 315.5,-185.5"/>
<text xml:space="preserve" text-anchor="middle" x="234" y="-168.2" font-family="Helvetica,sans-Serif" font-size="14.00">lightBuffer + mapped</text>
<polyline fill="none" stroke="black" points="152.5,-162.5 315.5,-162.5"/>
<text xml:space="preserve" text-anchor="middle" x="234" y="-145.2" font-family="Helvetica,sans-Serif" font-size="14.00">descriptorSet</text>
<polyline fill="none" stroke="black" points="152.5,-139.5 315.5,-139.5"/>
<text xml:space="preserve" text-anchor="middle" x="234" y="-122.2" font-family="Helvetica,sans-Serif" font-size="14.00">stagingBuffer + mapped</text>
</g>
<!-- Frame1&#45;&gt;Frame2 -->
<g id="edge2" class="edge">
<title>Frame1&#45;&gt;Frame2</title>
<path fill="none" stroke="black" d="M256.24,-346C247.68,-335.73 240.21,-324.5 235,-312.5 231.79,-305.1 229.57,-297.18 228.11,-289.07"/>
<polygon fill="black" stroke="black" points="231.62,-288.87 226.78,-279.44 224.68,-289.83 231.62,-288.87"/>
<text xml:space="preserve" text-anchor="middle" x="289" y="-299.2" font-family="Times,serif" font-size="14.00">m_currentFrame++</text>
</g>
<!-- Queue -->
<g id="node5" class="node">
<title>Queue</title>
<ellipse fill="lightyellow" stroke="black" cx="357" cy="-34" rx="104.97" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="357" y="-28.2" font-family="Helvetica,sans-Serif" font-size="14.00">Queue: Frame 1 waiting</text>
</g>
<!-- Frame1&#45;&gt;Queue -->
<g id="edge5" class="edge">
<title>Frame1&#45;&gt;Queue</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M342.08,-330.54C342.39,-324.44 342.7,-318.37 343,-312.5 347.62,-221.48 353.04,-113.67 355.57,-63.43"/>
<polygon fill="black" stroke="black" points="359.05,-63.89 356.06,-53.72 352.06,-63.53 359.05,-63.89"/>
</g>
<!-- Frame2&#45;&gt;Frame0 -->
<g id="edge3" class="edge">
<title>Frame2&#45;&gt;Frame0</title>
<path fill="none" stroke="black" d="M195.63,-277.74C171.95,-338.49 151.08,-423.2 179.75,-492.5 189.23,-515.42 204.81,-536.45 222.01,-554.68"/>
<polygon fill="black" stroke="black" points="219.46,-557.07 228.95,-561.77 224.46,-552.18 219.46,-557.07"/>
<text xml:space="preserve" text-anchor="middle" x="213.88" y="-406.45" font-family="Times,serif" font-size="14.00">wrap around</text>
</g>
<!-- CPU -->
<g id="node6" class="node">
<title>CPU</title>
<ellipse fill="lightcoral" stroke="black" cx="125" cy="-34" rx="109.35" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="125" y="-28.2" font-family="Helvetica,sans-Serif" font-size="14.00">CPU: Recording Frame 2</text>
</g>
<!-- Frame2&#45;&gt;CPU -->
<g id="edge6" class="edge">
<title>Frame2&#45;&gt;CPU</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M180.14,-116.44C166.68,-96.56 153.16,-76.59 142.88,-61.41"/>
<polygon fill="black" stroke="black" points="145.98,-59.74 137.47,-53.42 140.18,-63.67 145.98,-59.74"/>
</g>
<!-- Note -->
<g id="node7" class="node">
<title>Note</title>
<polygon fill="white" stroke="black" points="688.12,-652.5 435.88,-652.5 435.88,-599.5 694.12,-599.5 694.12,-646.5 688.12,-652.5"/>
<polyline fill="none" stroke="black" points="688.12,-652.5 688.12,-646.5"/>
<polyline fill="none" stroke="black" points="694.12,-646.5 688.12,-646.5"/>
<text xml:space="preserve" text-anchor="middle" x="565" y="-635.2" font-family="Helvetica,sans-Serif" font-size="14.00">CRITICAL: Shadow pass and main pass</text>
<text xml:space="preserve" text-anchor="middle" x="565" y="-620.2" font-family="Helvetica,sans-Serif" font-size="14.00">MUST use same frame&#39;s descriptorSet</text>
<text xml:space="preserve" text-anchor="middle" x="565" y="-605.2" font-family="Helvetica,sans-Serif" font-size="14.00">for consistent lightSpaceMatrix!</text>
</g>
</g>
</svg>
